<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">



    <ui:decorate template="/layout/system/PersonInput.xhtml">

        <ui:param name="personEntityHelper" value="#{personInstance}"/>





            <div >
                <div style="width: 470px; float: left;font-size: 12px">
                    <a:outputPanel style="width: 100%; text-align: right;"  layout="block" rendered="#{not empty personInstance.idCard}" >
                        性别 <strong>#{messages[personInstance.idCard.sex.name()]}</strong> 民族 <strong>#{personInstance.idCard.ethnic}</strong> 出生 <strong><h:outputText value="#{personInstance.idCard.dateOfBirth}"><s:convertDateTime pattern="#{messages.displayDatePattern}"/></h:outputText></strong>
                    </a:outputPanel>

                    <s:decorate rendered="#{(personInstance.credentialsType.name() eq 'COMPANY_CODE')}"
                                id="legalPersonField" styleClass="form-group" template="/layout/edit.xhtml">
                        <ui:define name="label">
                            #{messages.ContractOwner_legalPerson}
                        </ui:define>
                        <ui:param name="for" value="legalPersonInput"/>
                        <h:inputText id="legalPersonInput" value="#{personInstance.personEntity.legalPerson}" maxlength="50"
                                     styleClass="form-control"/>
                    </s:decorate>

                    <s:decorate id="businessPersonPhoneField" styleClass="form-group" template="/layout/edit-big.xhtml">
                <ui:define name="label">
                    #{messages.BusinessOwner_Phone}
                </ui:define>
                <ui:param name="for" value="persionPhoneInput"/>
                <h:inputText label="#{messages.BusinessOwner_Phone}" size="30" maxlength="15"
                             styleClass="form-control" validatorMessage="#{messages.requiredPhoneValidator}"
                             value="#{personInstance.personEntity.phone}" id="persionPhoneInput">

                </h:inputText>

            </s:decorate>



            <s:decorate template="/layout/edit-big.xhtml" style="clear: both;">
                <ui:param name="for" value="persionRootAddressInput"/>

                <ui:define name="label">
                    #{messages.BusinessOwner_RootAddress}
                </ui:define>
                <h:inputText label="#{messages.BusinessOwner_RootAddress}" size="55" maxlength="50" styleClass="form-control"
                             value="#{personInstance.personEntity.rootAddress}" id="persionRootAddressInput">
                    <r:validator event="blur"/>
                </h:inputText>

            </s:decorate>
                </div>

                <a:outputPanel layout="block" rendered="#{not empty personInstance.idCard}" style="width: 140px; float: right;">
                    <div class="thumbnail" style="margin-bottom: 0">
                        <h:graphicImage  alt="身份证照片" value="#{runParam.getStringParamValue('IdCardImgPath')}C#{personInstance.credentialsNumber}.bmp" width="120px" height="126px"/>
                    </div>

                    <div class="caption">
                        <p></p>
                    </div>

                </a:outputPanel>


            </div>

        <div style="clear: both"/>
            <s:decorate template="/layout/edit-big.xhtml">
                <ui:param name="for" value="addressInput"/>

                <ui:define name="label">
                    #{messages.BusinessOwner_Address}
                </ui:define>
                <h:inputTextarea
                        label="#{messages.BusinessOwner_Address}"
                        cols="50"
                        rows="3"
                        value="#{personInstance.personEntity.address}"
                        styleClass="form-control"
                        id="addressInput">
                </h:inputTextarea>

            </s:decorate>

    </ui:decorate>

</ui:composition>