<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:dh="http://www.dgsoft.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                template="/layout/template.xhtml">
    <ui:define name="outcss">
        <h:outputStylesheet library="github" name="/css/github1.css"/>
        <h:outputStylesheet library="github" name="/css/github2.css"/>
    </ui:define>


    <ui:define name="body">




        <div class="pagehead repohead instapaper_ignore readability-menu">

            <div class="container">

                <h1 class="entry-title public">
                    <span class="mega-octicon octicon-repo"></span>
                    <strong>#{messages.createBusiness}</strong>


                    <span class="path-divider">/</span>

                    #{businessDefineHome.instance.name}
                    <span class="path-divider">/</span>
                    #{messages.Business_Start_Subscribe}

                </h1>

                <div class="right">
                    <s:link styleClass="btn btn-primary" view="/business/houseOwner/BizStartConfirm.xhtml">
                        #{messages.complete}

                    </s:link>
                </div>

            </div>


        </div>

        <h:outputScript>
            $(document).ready(
            function () {
            $('.rf-trn-cnt').click(function(){
            $('.rf-trn').removeClass('rf-trn-select');
            $('.rf-trn-sel').parent().addClass('rf-trn-select');
            });

            }
            );
        </h:outputScript>

        <h:outputStylesheet>
            .rf-trn-select .file-status{
                color: #FFFFFF !important;
            }

            .file-status.OK{
                color: #5cb85c;
            }

            .file-status.NO_FILE{
                color: #f0ad4e;;
            }

            .file-status.NO_UPLOAD{
                color: #d9534f;
            }

            .file-status.OTHER_UPLOAD{
                color: rgb(170, 170, 170);
            }

        </h:outputStylesheet>
        <div class="container">

            <div class="columns">
                <h:outputStylesheet name="treeview.css"/>

                <div class="column codesearch-aside" style="width: 30%">
                    <h:form>
                    <r:tree id="fileTree" nodeType="#{_node.type}" toggleType="client" selectionType="ajax" render="resultDatas"
                            value="#{ownerBusinessFile.tree}" var="_node" selectionChangeListener="#{ownerBusinessFile.selectionChanged}">
                        <r:treeNode type="ALL" expanded="#{_node.expanded}" iconClass="octicon octicon-diff-ignored">
                            <h:outputText value="#{_node.businessNeedFile.name}" styleClass="file-status #{_node.getStatus(businessDefineHome.taskName)}"/>

                            <span class="counter right">#{_node.fileCount}</span>

                        </r:treeNode>


                        <r:treeNode type="ANYONE" expanded="#{_node.expanded}" iconClass="octicon octicon-diff-removed">
                            <h:outputText value="#{_node.businessNeedFile.name}" styleClass="file-status #{_node.getStatus(businessDefineHome.taskName)}"/>

                            <span class="counter right">#{_node.fileCount}</span>
                        </r:treeNode>


                        <r:treeNode type="CHILDREN" iconClass="octicon octicon-file-text">
                            <h:outputText value="#{_node.businessNeedFile.name}" styleClass="file-status #{_node.getStatus(businessDefineHome.taskName)}"/>
                            <span class="counter right">#{_node.fileCount}</span>
                        </r:treeNode>


                        <r:treeNode type="ROOT" expanded="#{true}" iconClass="octicon octicon-diff-ignored">
                            attriFile
                        </r:treeNode>

                        <r:treeNode type="I_ROOT" expanded="#{true}" iconClass="octicon octicon-diff-ignored">
                            <h:outputText value="#{messages.NeedFile}" styleClass="file-status #{_node.getStatus(businessDefineHome.taskName)}"/>
                            <span class="counter right">#{_node.fileCount}</span>
                        </r:treeNode>


                    </r:tree>
                    </h:form>

                </div>

                <h:form>
                <a:outputPanel id="resultDatas" layout="block" styleClass="column three-fourths" style="width: 70%">

                    <a:outputPanel rendered="#{(empty ownerBusinessFile.selectNode) or ownerBusinessFile.selectNode.emptyFile}" layout="block" styleClass="blankslate spacious large-format">
                        <span class="mega-octicon octicon-file-submodule"></span>
                        <h3>#{empty ownerBusinessFile.selectNode ? messages.plase_select_file_node :  messages.not_upload_file}</h3>
                        <p>
                            <a:outputPanel rendered="#{empty ownerBusinessFile.selectNode}">
                            <h:outputText value="#{messages.file_ndoe_description}" />
                            <a:outputPanel class="octicon octicon-diff-ignored" style="margin: 0 4px"/>
                            <h:outputText value="#{messages.all_file_node_description}" />
                            <a:outputPanel class="octicon octicon-diff-removed" style="margin: 0 4px"/>
                            <h:outputText value="#{messages.any_file_node_description}" />
                            <a:outputPanel class="octicon octicon-file-text" style="margin: 0 4px"/>
                            <h:outputText value="#{messages.leaf_file_node_description}" />
                            </a:outputPanel>

                            <a:outputPanel rendered="#{not empty ownerBusinessFile.selectNode}">
                                <a:outputPanel class="octicon octicon-diff-ignored" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'ALL'}" style="margin: 0 4px"/>

                                <a:outputPanel class="octicon octicon-diff-removed" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'ANYONE'}" style="margin: 0 4px"/>

                                <a:outputPanel class="octicon octicon-file-text" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'CHILDREN'}" style="margin: 0 4px"/>

                                <h:outputText value="#{ownerBusinessFile.selectNode.businessNeedFile.name}"/>,

                                <h:outputText value="#{messages.YouCan}" rendered="#{ (ownerBusinessFile.selectNode.businessNeedFile.type eq 'CHILDREN')}"/>

                                <a:commandLink value="#{messages.uploadFile}" style="margin: 0 4px" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'CHILDREN'}"/>

                                <h:outputText value="#{messages.Or}" rendered="#{runParam.getBooleanParamValue('AllowBusinessNoFile') and (ownerBusinessFile.selectNode.businessNeedFile.type eq 'CHILDREN')}"/>

                                <h:commandLink value="">
                                    <a:attachQueue requestDelay="0"/>
                                </h:commandLink>

                                <h:selectBooleanCheckbox value="#{}">
                                    #{messages.temp_upload_file}
                                </h:selectBooleanCheckbox>



                                <h:outputText value="#{messages.all_file_node_description}" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'ALL'}"/>

                                <h:outputText value="#{messages.any_file_node_description}" rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'ANYONE'}"/>

                                <h:outputText value="#{messages.plase_select_item_node}"
                                              rendered="#{not (ownerBusinessFile.selectNode.businessNeedFile.type eq 'CHILDREN')}"/>



                                <a:outputPanel rendered="#{ownerBusinessFile.selectNode.businessNeedFile.type eq 'ALL'}"/>



                            </a:outputPanel>

                        </p>
                    </a:outputPanel>


                </a:outputPanel>
                </h:form>
            </div>




        </div>


    </ui:define>

</ui:composition>