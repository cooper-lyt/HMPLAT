<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">



    <div class="form-inline">
    <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
        <ui:define name="label">
            #{messages.Card_MerchandiseContrao}
        </ui:define>
        <ui:param name="for" value="MerchandiseContrao"/>
        <h:inputText label="#{messages.Card_MerchandiseContrao}"
                     id="MerchandiseContrao"
                     value="#{contractOwnerSubscribe.instance.contractCode}"
                     styleClass="form-control"
                     maxlength="32"
                     required="true"/>
    </s:decorate>
   </div>

    <div class="form-inline">
        <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.ContractOwner_contractDate}
            </ui:define>
            <ui:param name="for" value="MerchandiseContrao"/>
            <h:inputText id="contractDate"
                         styleClass="js-datepicker form-control"
                         label="#{messages.ContractOwner_contractDate}"
                         value="#{contractOwnerSubscribe.instance.contractDate}"
                         autocomplete="off"
                         required="true">
                <s:convertDateTime pattern="#{messages.datePattern}"/>
            </h:inputText>
        </s:decorate>
    </div>


    <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.ContractOwner_type}
        </ui:define>
        <ui:param name="for" value="ContractOwner_type"/>
        <h:selectOneMenu id="ContractOwner_type"
                         value="#{contractOwnerSubscribe.instance.type}"
                         styleClass="selectpicker select-menu-btn input-group-first"
                         label="#{messages.ContractOwner_type}"
                         required="true">
            <s:selectItems value="#{contractOwnerSubscribe.instance.projectSellType}"
                           var="_type" label="#{messages[_type.name()]}"
                           noSelectionLabel="#{messages.noSelectLabel}"/>
            <s:convertEnum/>

        </h:selectOneMenu>
    </s:decorate>



    <ui:param name="label" value="#{messages.RecordOwner}"/>

    <ui:decorate template="/layout/system/PersonInput.xhtml">

        <ui:param name="personEntityHelper" value="#{contractOwnerSubscribe.personInstance}"/>
        <ui:param name="personStatus" value="contractOwner_NumberStatus"/>

        <div class="form-inline">

            <s:decorate id="businessPersonPhoneField" styleClass="form-group" template="/layout/edit-big.xhtml">
                <ui:define name="label">
                    #{messages.BusinessOwner_Phone}
                </ui:define>
                <ui:param name="for" value="persionPhoneInput"/>
                <h:inputText label="#{messages.BusinessOwner_Phone}" size="30" maxlength="15"
                             styleClass="form-control" validatorMessage="#{messages.requiredPhoneValidator}"
                             value="#{contractOwnerSubscribe.instance.phone}" required="true" id="persionPhoneInput">
                    <f:validateRegex
                            pattern="((\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$)"/>
                    <r:validator event="blur"/>
                </h:inputText>

            </s:decorate>
        </div>

        <div class="form-inline">
            <s:decorate template="/layout/edit-big.xhtml">
                <ui:param name="for" value="persionRootAddressInput"/>

                <ui:define name="label">
                    #{messages.BusinessOwner_RootAddress}
                </ui:define>
                <h:inputText label="#{messages.BusinessOwner_RootAddress}" size="55" maxlength="50"
                             value="#{contractOwnerSubscribe.instance.rootAddress}" id="persionRootAddressInput">
                    <r:validator event="blur"/>
                </h:inputText>

            </s:decorate>
        </div>


        <div class="form-inline">
            <s:decorate template="/layout/edit-big.xhtml">
                <ui:param name="for" value="addressInput"/>

                <ui:define name="label">
                    #{messages.BusinessOwner_Address}
                </ui:define>
                <h:inputTextarea
                        label="#{messages.BusinessOwner_Address}"
                        cols="55"
                        rows="3"
                        value="#{contractOwnerSubscribe.instance.address}"
                        styleClass="form-control"
                        id="addressInput">
                </h:inputTextarea>

            </s:decorate>
        </div>

        <s:decorate template="/layout/edit-multi.xhtml">
            <ui:define name="topValue">
                <div class="form-checkbox">
                    <label>
                        #{messages.ContractOwner_OtherInfo}
                    </label>
                    <h:selectBooleanCheckbox value="#{contractOwnerSubscribe.have}">
                        <a:ajax event="click"
                                render="recordPanel"
                                execute="@this">
                            <a:attachQueue requestDelay="0"/>
                        </a:ajax>
                    </h:selectBooleanCheckbox>
                </div>
            </ui:define>

            <ui:define name="values">
                <a:outputPanel id="recordPanel">
                    <a:outputPanel rendered="#{contractOwnerSubscribe.have}">
                        <hr/>
                        <div style="display: block;">
                            <a:outputPanel layout="block" styleClass="upgrade-upsell">
                                <div class="form-inline">
                                    <a:outputPanel rendered="#{(not empty ownerBusinessHome.singleHoues.afterBusinessHouse.contractOwner.credentialsType) and
                                    ((ownerBusinessHome.singleHoues.afterBusinessHouse.contractOwner.credentialsType eq 'OTHER') or (ownerBusinessHome.singleHoues.afterBusinessHouse.contractOwner.credentialsType eq 'COMPANY_CODE'))}">
                                        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
                                            <ui:define name="label">
                                                #{messages.AttachCorporation_ownerName}
                                            </ui:define>
                                            <ui:param name="for" value="contractOwnerLegalPerson"/>
                                            <h:inputText label="#{messages.AttachCorporation_ownerName}"
                                                         id="contractOwnerLegalPerson"
                                                         value="#{contractOwnerSubscribe.instance.legalPerson}"
                                                         styleClass="form-control"
                                                         maxlength="50"/>
                                        </s:decorate>
                                    </a:outputPanel>


                                    <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
                                        <ui:define name="label">
                                            #{messages.ContractOwner_birthday}
                                        </ui:define>
                                        <ui:param name="for" value="ContractOwnerBirthday"/>
                                        <h:inputText id="ContractOwnerBirthday"

                                                     styleClass="js-datepicker form-control"
                                                     label="#{messages.ContractOwner_birthday}"
                                                     value="#{contractOwnerSubscribe.instance.birthday}"
                                                     autocomplete="off">
                                            <s:convertDateTime pattern="#{messages.datePattern}"/>
                                        </h:inputText>
                                    </s:decorate>

                                    <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
                                        <ui:define name="label">
                                            #{messages.ContractOwner_postCode}
                                        </ui:define>
                                        <ui:param name="for" value="ContractOwnerPostCode"/>
                                        <h:inputText label="#{messages.ContractOwner_postCode}"
                                                     id="ContractOwnerPostCode"
                                                     value="#{contractOwnerSubscribe.instance.postCode}"
                                                     styleClass="form-control"
                                                     maxlength="50"/>
                                    </s:decorate>

                                    <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group"
                                                id="sexField">
                                        <ui:define name="label">
                                            #{messages.person_field_sex}
                                        </ui:define>
                                        <ui:param name="for" value="sex"/>

                                        <r:select id="sex" styleClass="sexSelectWidth" listWidth="60px"
                                                  label="#{messages.person_field_sex}"
                                                  value="#{contractOwnerSubscribe.instance.sex}">
                                            <s:selectItems var="_sex" value="#{sexs}" label="#{messages[_sex.name()]}"
                                                           noSelectionLabel="#{messages.noSelectLabel}"/>
                                            <s:convertEnum/>
                                            <a:ajax event="selectitem" render="sexField"/>
                                        </r:select>

                                    </s:decorate>



                                    <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
                                        <ui:define name="label">
                                            #{messages.ContractOwner_legalPerson}
                                        </ui:define>
                                        <ui:param name="for" value="legalPerson"/>
                                        <h:inputText label="#{messages.ContractOwner_legalPerson}"
                                                     id="legalPerson"
                                                     value="#{contractOwnerSubscribe.instance.legalPerson}"
                                                     styleClass="form-control"
                                                     maxlength="50"/>
                                    </s:decorate>




                                </div>
                            </a:outputPanel>
                        </div>
                    </a:outputPanel>
                </a:outputPanel>
            </ui:define>


        </s:decorate>
    </ui:decorate>

</ui:composition>