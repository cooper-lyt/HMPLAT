<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

    <s:decorate template="/layout/edit.xhtml">
        <ui:define name="label">#{messages.ProjectSellInfo_isType}</ui:define>
        <h:selectBooleanCheckbox id="cardSellType" label="#{messages.ProjectSellInfo_isType}"  value="#{projectSellInfoSubscribe.cardtype}">


            <a:ajax event="click"
                    render="cardSellType"
                    execute="@this"
                    listener="#{projectSellInfoSubscribe.checkCrdTypeBox}">
                <a:attachQueue requestDelay="0"/>
            </a:ajax>
        </h:selectBooleanCheckbox>
    </s:decorate>

    <div class="form-inline">
        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.Build_HouseCount}
            </ui:define>
            <ui:param name="for" value="houseCount"/>
            <h:inputText label="#{messages.Build_HouseCount}"
                         id="houseCount"
                         value="#{projectSellInfoSubscribe.instance.houseCount}"
                         styleClass="form-control"
                         size="10"
                         required="true">
             <f:validateLongRange minimum="0"/>
            </h:inputText>
        </s:decorate>

        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.Project_buildCount}
            </ui:define>
            <ui:param name="for" value="buildCount"/>
            <h:inputText label="#{messages.Project_buildCount}"
                         id="buildCount"
                         value="#{projectSellInfoSubscribe.instance.buildCount}"
                         styleClass="form-control"
                         size="10"
                         required="true">
                <f:validateLongRange minimum="0"/>
            </h:inputText>
        </s:decorate>


        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label" >
                #{messages.Project_area}
            </ui:define>
            <ui:param name="showLabel" value="true"/>
            <ui:param name="for" value="area"/>
            <h:inputText label="#{messages.Project_area}"
                         id="area"
                         value="#{projectSellInfoSubscribe.instance.area}"
                         styleClass="form-control"
                         required="true">
                <r:validator event="blur"/>
                <f:validateDoubleRange minimum="0"/>
                <f:convertNumber pattern="#0.000"/>
            </h:inputText>
        </s:decorate>

        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.ProjectSellInfo_useType}
            </ui:define>
            <ui:param name="for" value="UseType"/>
            <h:inputText label="#{messages.ProjectSellInfo_useType}"
                         id="UseType"
                         value="#{projectSellInfoSubscribe.instance.useType}"
                         styleClass="form-control"
                         maxlength="30"
                         required="true"/>
        </s:decorate>



        <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">
            <ui:define name="label">
                #{messages.ProjectSellInfo_SellObject}
            </ui:define>
            <ui:param name="for" value="SellObject"/>
            <h:inputText label="#{messages.ProjectSellInfo_SellObject}"
                         id="SellObject"
                         value="#{projectSellInfoSubscribe.instance.sellObject}"
                         styleClass="form-control"
                         maxlength="50"
                         required="true"/>
        </s:decorate>
    </div>


    <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.ProjectSellInfo_LandCardType}
        </ui:define>
        <ui:param name="for" value="LandCardType"/>
        <div class="input-group">
            <a:outputPanel styleClass="input-group-btn">
        <h:selectOneMenu id="LandCardType" p:data-width="170px"
                         value="#{projectSellInfoSubscribe.instance.landCardType}"
                         styleClass="selectpicker select-menu-btn input-group-first"
                         label="#{messages.ProjectSellInfo_LandCardType}"
                         required="true">
            <s:selectItems value="#{dictionary.getWordList('project.landCardType')}" var="_word"
                           itemValue="#{_word.id}" label="#{_word.value}"
                           noSelectionLabel="#{messages.noSelectLabel}"/>
        </h:selectOneMenu>
            </a:outputPanel>

                <h:inputText label="#{messages.Land_LandCardNo}"
                             id="landCardNo" p:placeholder="#{messages.Land_LandCardNo}"
                             value="#{projectSellInfoSubscribe.instance.landCardNo}"
                             styleClass="form-control"
                             maxlength="50" />

        </div>
    </s:decorate>





        <s:decorate styleClass="form-group"  template="/layout/edit-big.xhtml">

            <ui:param name="for" value="landNubmer"/>

            <ui:define name="label">
                #{messages.Land_LandGetMode}
            </ui:define>
            <div class="input-group">

                <a:outputPanel styleClass="input-group-btn">
                    <h:selectOneMenu id="landGetMode"
                                     label="#{messages.Land_LandGetMode}"
                                     value="#{projectSellInfoSubscribe.instance.landGetMode}"
                                     p:data-width="170px"
                                     rendered="true"
                                     styleClass="selectpicker select-menu-btn input-group-first">
                        <s:selectItems value="#{dictionary.getWordList('55')}" var="_word"
                                       noSelectionLabel="#{messages.noSelectLabel}"
                                       itemValue="#{_word.id}" label="#{_word.value}"/>
                    </h:selectOneMenu>

                </a:outputPanel>


                <h:inputText required="true"
                             label="#{messages.Land_Number}"
                             size="20" p:placeholder="#{messages.Land_Number}"
                             value="#{projectSellInfoSubscribe.instance.number}"
                             styleClass="form-control"
                             id="landNubmer">
                </h:inputText>
            </div>


        </s:decorate>




    <div class="form-inline">
        <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">
            <ui:define name="label">
                #{messages.Land_UseTime}
            </ui:define>
            <ui:param name="for" value="LandBeginUseTime"/>


            <div class="input-group">
                <h:inputText id="LandBeginUseTime"
                             rendered="true"
                             styleClass="js-datepicker form-control"
                             label="#{messages.Land_BeginUseTime}"
                             value="#{projectSellInfoSubscribe.instance.beginUseTime}">
                    <s:convertDateTime pattern="#{messages.datePattern}"/>
                </h:inputText>
                <span class="input-group-addon">-</span>

                <h:inputText id="LandEndUseTime"
                             rendered="true"
                             styleClass="js-datepicker form-control"
                             label="#{messages.Land_EndUseTime}"
                             value="#{projectSellInfoSubscribe.instance.endUseTime}">
                    <s:convertDateTime pattern="#{messages.datePattern}"/>
                </h:inputText>
                <span class="input-group-btn">

                   <a:commandLink styleClass="btn btn-default" execute="@this" immediate="true"
                                  action="#{projectSellInfoSubscribe.addProjectLandEndTime}"
                                  render="landUseTimeExceptionField">
                        <span class="octicon octicon-plus btn-icon"></span>
                       <a:attachQueue requestDelay="0"/>
                   </a:commandLink>
                </span>
            </div>

            <ui:define name="message">
                <r:message for="LandBeginUseTime" styleClass="edit-below-msg" />
                <r:message for="LandEndUseTimes" styleClass="edit-below-msg" />
            </ui:define>


        </s:decorate>
    </div>

    <a:outputPanel id="landUseTimeExceptionField">
        <a:outputPanel rendered="#{not projectSellInfoSubscribe.emptyLandEndTimes}">
    <div style="clear: both;"/>
    <hr/>
    <div style="display: block;">
        <div class="upgrade-upsell">

            <a:repeat value="#{projectLandEndTimes}" var="_useTypeTime">

                <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">

                    <ui:param name="showLabel" value="false"/>

                    <div class="input-group">
                        <span class="input-group-btn">
                        <h:selectOneMenu styleClass="selectpicker select-menu-btn input-group-first"
                                         label="设计用途" value="#{_useTypeTime.useTypeCategory}" required="true">

                            <s:selectItems value="#{useTypes}" var="_type"
                                           label="#{dictionary.getEnumLabel(_type)}" itemValue="#{_type}" noSelectionLabel="设计用途"/>
                            <s:convertEnum/>
                            <a:ajax execute="@this" event="valueChange" render="@none"/>
                        </h:selectOneMenu>
                        </span>
                        <h:inputText
                                     rendered="true"
                                     styleClass="js-datepicker form-control"
                                     label="#{messages.Land_EndUseTime}"
                                     value="#{_useTypeTime.endTime}">
                            <s:convertDateTime pattern="#{messages.datePattern}"/>
                            <a:ajax execute="@this" event="blur" render="@none"/>
                        </h:inputText>
                        <span class="input-group-btn">
                        <a:commandLink styleClass="btn btn-danger" immediate="true" action="#{projectSellInfoSubscribe.removeProjectLandEndTime}"
                                       execute="@this" render="landUseTimeExceptionField">
                            <span class="octicon octicon-trashcan btn-icon"></span>
                            <a:attachQueue requestDelay="0"/>
                        </a:commandLink>
                        </span>

                    </div>



                </s:decorate>

            </a:repeat>



        </div>
    </div>
    <div style="clear: both;"/>
    <hr />
        </a:outputPanel>
    </a:outputPanel>

    <div class="form-inline">
        <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.ProjectSellInfo_landUseType}
            </ui:define>
            <ui:param name="for" value="landUseType"/>
            <h:inputText label="#{messages.ProjectSellInfo_landUseType}"
                         id="landUseType"
                         value="#{projectSellInfoSubscribe.instance.landUseType}"
                         styleClass="form-control"
                         maxlength="32"
                         size="32"
                         required="true">
            </h:inputText>
        </s:decorate>



        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.Land_Area}
            </ui:define>

            <ui:param name="for" value="landArea"/>
            <h:inputText label="#{messages.Land_Area}"
                         id="landArea"
                         value="#{projectSellInfoSubscribe.instance.landArea}"
                         styleClass="form-control"
                         required="true">
                <r:validator event="blur"/>
                <f:validateDoubleRange minimum="0"/>
                <f:convertNumber pattern="#0.000"/>
            </h:inputText>

        </s:decorate>


        <s:decorate template="/layout/edit-inline.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.Land_LandProperty}
            </ui:define>
            <h:selectOneMenu id="landProperty"
                             label="#{message.Land_LandProperty}"
                             value="#{projectSellInfoSubscribe.instance.landProperty}"
                             styleClass="selectpicker edit-select"
                             required="true">
                <s:selectItems value="#{dictionary.getWordList('32')}" var="_word"
                               itemValue="#{_word.id}" label="#{_word.value}"
                               noSelectionLabel="#{messages.noSelectLabel}"/>
            </h:selectOneMenu>
        </s:decorate>

    </div>



    <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
        <ui:define name="label">
            #{messages.ProjectSellInfo_landAddress}
        </ui:define>
        <ui:param name="for" value="landAddress"/>
        <h:inputText label="#{messages.ProjectSellInfo_landAddress}"
                     id="landAddress"
                     value="#{projectSellInfoSubscribe.instance.landAddress}"
                     styleClass="form-control"
                     size="255"
                     required="true">
        </h:inputText>
    </s:decorate>


    <div class="form-inline">

    <s:decorate styleClass="form-group" template="/layout/edit-big.xhtml">
        <ui:define name="label">
            #{messages.ProjectSellInfo_buildSize}
        </ui:define>
        <ui:param name="for" value="buildSize"/>
        <h:selectOneMenu id="buildSize"
                         value="#{projectSellInfoSubscribe.instance.buildSize}"
                         styleClass="selectpicker edit-select input-group-first "
                         label="#{messages.ProjectSellInfo_buildSize}"
                         required="true">
            <s:selectItems value="#{dictionary.getWordList('house.project.buildSize')}" var="_word"
                           itemValue="#{_word.id}" label="#{_word.value}"
                           noSelectionLabel="#{messages.noSelectLabel}"/>
        </h:selectOneMenu>

    </s:decorate>

    </div>


    <div class="form-inline">

        <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.ProjectSellInfo_createCardNumber}
            </ui:define>
            <ui:param name="for" value="createCardNumber"/>
            <h:inputText label="#{messages.ProjectSellInfo_createCardNumber}"
                         id="createCardNumber"
                         value="#{projectSellInfoSubscribe.instance.createCardNumber}"
                         styleClass="form-control"
                         maxlength="50"
                         size="40"
                         required="true"/>
        </s:decorate>



        <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
            <ui:define name="label">
                #{messages.ProjectSellInfo_createPrepareCardNumber}
            </ui:define>
            <ui:param name="for" value="createPrepareCardNumber"/>
            <h:inputText label="#{messages.ProjectSellInfo_createPrepareCardNumber}"
                         id="createPrepareCardNumber"
                         value="#{projectSellInfoSubscribe.instance.createPrepareCardNumber}"
                         styleClass="form-control"
                         maxlength="50" size="40"
                         required="true"/>
        </s:decorate>

</div>
    <s:decorate template="/layout/edit-big.xhtml" styleClass="form-group">
        <ui:define name="label">
            #{messages.ProjectSellInfo_ProofMaterial}
        </ui:define>
        <ui:param name="for" value="licenseCode"/>
        <h:inputText label="#{messages.ProjectSellInfo_ProofMaterial}"
                     id="licenseCode"
                     value="#{projectSellInfoSubscribe.instance.proofMaterial}"
                     styleClass="form-control"
                     maxlength="50"/>
    </s:decorate>

</ui:composition>