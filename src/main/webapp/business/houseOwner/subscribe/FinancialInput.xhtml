<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.org/schema/seam/taglib"
                xmlns:a="http://richfaces.org/a4j" xmlns:r="http://richfaces.org/rich"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html">


    <s:decorate template="/layout/edit-multi.xhtml">
        <ui:param name="req" value="true"/>


        <ui:define name="topValue">
            #{label}
        </ui:define>


        <ui:define name="values">
            <h:panelGroup>

                <span class="value">
                    <h:selectOneMenu value="#{financialSubscribe.instance.financialType}"
                                     id="typeSelectInput"
                                     label="#{label}#{messages.FinancialType}"
                                     required="true"
                                     styleClass="selectpicker select-menu-btn input-group-first"
                                     valueChangeListener="#{financialSubscribe.typeChangeListener}">
                        <s:selectItems value="#{financialSubscribe.financialTypes}"
                                       var="_type"
                                       itemValue="#{_type}"
                                       label="#{messages[_type.name()]}"/>
                        <a:ajax event="valueChange" execute="@this" render="financialCorpSelect,phoneOutPut">
                            <a:attachQueue requestDelay="0"/>
                        </a:ajax>

                    </h:selectOneMenu>
                </span>
                <a:outputPanel id="financialCorpSelect">
                    <a:outputPanel rendered="#{financialSubscribe.instance.financialType eq 'FINANCE_PERSON'}">
                        <hr/>
                        <ui:include src="/layout/system/PersonCardInput.xhtml">
                            <ui:param name="personEntityHelper" value="#{financialSubscribe.personEntityHelper}"/>
                            <ui:param name="render" value="phoneOutPut"/>
                        </ui:include>
                    </a:outputPanel>

                    <a:outputPanel rendered="#{financialSubscribe.instance.financialType eq 'FINANCE_CORP'}">
                        <span class="value">
                        <h:selectOneMenu id="bankSelectInput"
                                         required="true"
                                         label="#{label}"
                                         value="#{financialSubscribe.filterBank}"
                                         styleClass="selectpicker select-menu-btn input-group-first">
                            <s:selectItems var="_word" label="#{_word.value}"
                                           itemValue="#{_word.id}"
                                           value="#{dictionary.getWordList('erp.bank')}"
                                           noSelectionLabel="#{messages.noSelectLabel}"/>
                            <a:ajax event="valueChange" execute="@this" render="bankForkSelect">
                                <a:attachQueue requestDelay="0"/>
                            </a:ajax>
                        </h:selectOneMenu>
                        </span>
                        <a:outputPanel id="bankForkSelect">
                            <a:outputPanel rendered="#{not empty financialSubscribe.filterBank}">
                                <span class="value">
                                <h:selectOneMenu label="#{messages.Financial}"
                                                 value="#{financialSubscribe.selectName}"
                                                 styleClass="selectpicker select-menu-btn input-group-first">
                                    <s:selectItems var="_fork" label="#{_fork}"
                                                   itemValue="#{_fork}"
                                                   value="#{financialSubscribe.financialCorpNames}"
                                                   noSelectionLabel="#{messages.noSelectLabel}"/>

                                    <a:ajax event="valueChange" execute="@this" render="phoneOutPut"/>
                                </h:selectOneMenu>
                                </span>
                            </a:outputPanel>

                        </a:outputPanel>
                        <span class="value">
                        <r:message for="typeSelectInput" style="float: left;"/>
                        </span>
                        <span class="value">
                        <r:message for="bankSelectInput" style="float: left;"/>
                        </span>
                    </a:outputPanel>
                </a:outputPanel>


            </h:panelGroup>


            <a:outputPanel id="phoneOutPut">
                <a:outputPanel rendered="#{financialSubscribe.instance.financialType eq 'FINANCE_CORP'}">

                    <hr/>
                    <div style="display: block;">


                        <s:decorate styleClass="form-group"  template="/layout/edit-big.xhtml">
                            <ui:define name="label">
                                #{messages.Financial_name}
                            </ui:define>
                            <ui:param name="for" value="financeNameInput"/>
                            <h:inputText id="financeNameInput"
                                         required="true"
                                         label="#{messages.Financial_name}"
                                         value="#{financialSubscribe.instance.name}"
                                         disabled="#{financialSubscribe.selected}"
                                         styleClass="form-control"/>


                        </s:decorate>

                        <div class="form-inline">
                            <s:decorate styleClass="form-group"  template="/layout/edit-big.xhtml">
                                <ui:define name="label">
                                    #{messages.Tel}
                                </ui:define>

                                <h:inputText id="financePhoneIpnut"
                                             value="#{financialSubscribe.instance.phone}"
                                             styleClass="form-control"/>

                            </s:decorate>
                        </div>
                        <hr/>


                    </div>

                </a:outputPanel>

                <a:outputPanel rendered="#{financialSubscribe.instance.financialType eq 'FINANCE_PERSON'}">
                    <hr/>
                    <div style="display: block;">

                        <ui:include src="/layout/system/PersonNameInput.xhtml">
                            <ui:param name="personEntityHelper" value="#{financialSubscribe.personEntityHelper}"/>
                        </ui:include>


                        <div class="form-inline">
                            <s:decorate styleClass="form-group"  template="/layout/edit-big.xhtml">
                                <ui:define name="label">
                                    #{messages.Tel}
                                </ui:define>


                                <h:inputText label="#{messages.Tel}"
                                             value="#{financialSubscribe.instance.phone}"
                                             styleClass="form-control"/>
                            </s:decorate>
                        </div>
                        <hr/>
                    </div>
                </a:outputPanel>
            </a:outputPanel>
        </ui:define>


    </s:decorate>


</ui:composition>